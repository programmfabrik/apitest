<!DOCTYPE html>
<html lang="de">

	<head>
		<meta charset="utf-8" />
		<title>fylr</title>
		<meta name="description" content="fylr - manage your data" />
		<link rel="icon" href="/api/page/static/images/favicon.png" />
		<link href="/api/page/static/css/main.css" rel="stylesheet" />
		<style>
			:root {}

			html {}
		</style>

		<script>
			async function submitForm(form) {
				const url = form.action + '&check=true';

				const formData = new FormData(form);

				const formDataJson = Object.fromEntries(formData.entries());
				const body = JSON.stringify(formDataJson);

				const request = {
					method: form.method,
					headers: {
						'Content-type': 'application/json',
					},
					body: body
				};

				const data = await fetch(url, request).then(response => response.json()).catch(error => console.error(error));

				for (let fieldName in data) {
					form.elements[fieldName]?.classList.toggle('has-error', data[fieldName].Invalid)
					console.debug(fieldName, data[fieldName]);
				};
			}

			function onInputHandler(event) {
				const form = event.currentTarget;
				submitForm(form);
			}
		</script>
	</head>

	<body>
		<main class="page-register">
			<article class="access-container  access-container--wide ">
				<div class="container">
					<h1>Registrieren</h1>
					<section>

						<form class="form-grid" id="registerForm" action="" method="POST">
							<p class="required-information"><sup>*</sup>Pflichtfelder<br>
							<p class="error-summary">Das Formular enthält Fehler

							<hr>

							<fieldset data-width="1" data-field-name="email">
								<label for="email">
									<span class="field-label">E-Mail<sup class="required">*</sup></span>
									<span class="field-hint" title="Nutzer exisitert bereits">Nutzer exisitert
										bereits</span>
									<input name="email" id="email" class="has-error" type="email" placeholder=" " required
										autocomplete="email" />
								</label>
							</fieldset>

							<fieldset class="actions" data-width="1" data-pre="1">
								<button type="submit">Jetzt registrieren</button>
							</fieldset>

							<fieldset class="secondary-actions">
								<a href="http://localhost:8085/">Zur Startseite</a>
							</fieldset>
						</form>
					</section>

					<footer>
						<nav>
							<div class="language-switcher">
								<select onChange="onLanguageChange(event)">
									<option value="en-US">American English (Amerikanisches Englisch)</option>
									<option value="de-DE" selected="selected">Deutsch</option>
								</select>
							</div>
							<script>
								function onLanguageChange(evt) {
									let url = new URL(document.location.href);
									url.searchParams.set("lang", evt.target.value)
									document.location.assign(url.toString());
								}
							</script>
						</nav>
					</footer>

				</div>
			</article>
		</main>

	</body>

</html>{
 "html": [
  {
   "#attr": {
    "lang": "de"
   },
   "body": [
    {
     "main": [
      {
       "#attr": {
        "class": "page-register"
       },
       "article": [
        {
         "#attr": {
          "class": "access-container  access-container--wide "
         },
         "div": [
          {
           "#attr": {
            "class": "container"
           },
           "footer": [
            {
             "nav": [
              {
               "div": [
                {
                 "#attr": {
                  "class": "language-switcher"
                 },
                 "select": [
                  {
                   "#attr": {
                    "onchange": "onLanguageChange(event)"
                   },
                   "option": [
                    {
                     "#attr": {
                      "value": "en-US"
                     },
                     "#text": "American English (Amerikanisches Englisch)"
                    },
                    {
                     "#attr": {
                      "selected": "selected",
                      "value": "de-DE"
                     },
                     "#text": "Deutsch"
                    }
                   ]
                  }
                 ]
                }
               ],
               "script": [
                {
                 "#text": "function onLanguageChange(evt) {\n\t\t\t\t\t\t\t\t\tlet url = new URL(document.location.href);\n\t\t\t\t\t\t\t\t\turl.searchParams.set(\"lang\", evt.target.value)\n\t\t\t\t\t\t\t\t\tdocument.location.assign(url.toString());\n\t\t\t\t\t\t\t\t}"
                }
               ]
              }
             ]
            }
           ],
           "h1": [
            {
             "#text": "Registrieren"
            }
           ],
           "section": [
            {
             "form": [
              {
               "#attr": {
                "action": "",
                "class": "form-grid",
                "id": "registerForm",
                "method": "POST"
               },
               "fieldset": [
                {
                 "#attr": {
                  "data-field-name": "email",
                  "data-width": "1"
                 },
                 "label": [
                  {
                   "#attr": {
                    "for": "email"
                   },
                   "input": [
                    {
                     "#attr": {
                      "autocomplete": "email",
                      "class": "has-error",
                      "id": "email",
                      "name": "email",
                      "placeholder": " ",
                      "required": "",
                      "type": "email"
                     }
                    }
                   ],
                   "span": [
                    {
                     "#attr": {
                      "class": "field-label"
                     },
                     "sup": [
                      {
                       "#attr": {
                        "class": "required"
                       },
                       "#text": "*"
                      }
                     ]
                    },
                    {
                     "#attr": {
                      "class": "field-hint",
                      "title": "Nutzer exisitert bereits"
                     },
                     "#text": "Nutzer exisitert\n\t\t\t\t\t\t\t\t\t\tbereits"
                    }
                   ]
                  }
                 ]
                },
                {
                 "#attr": {
                  "class": "actions",
                  "data-pre": "1",
                  "data-width": "1"
                 },
                 "button": [
                  {
                   "#attr": {
                    "type": "submit"
                   },
                   "#text": "Jetzt registrieren"
                  }
                 ]
                },
                {
                 "#attr": {
                  "class": "secondary-actions"
                 },
                 "a": [
                  {
                   "#attr": {
                    "href": "http://localhost:8085/"
                   },
                   "#text": "Zur Startseite"
                  }
                 ]
                }
               ],
               "hr": [
                {}
               ],
               "p": [
                {
                 "#attr": {
                  "class": "required-information"
                 },
                 "br": [
                  {}
                 ],
                 "sup": [
                  {
                   "#text": "*"
                  }
                 ]
                },
                {
                 "#attr": {
                  "class": "error-summary"
                 },
                 "#text": "Das Formular enthält Fehler"
                }
               ]
              }
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    }
   ],
   "head": [
    {
     "link": [
      {
       "#attr": {
        "href": "/api/page/static/images/favicon.png",
        "rel": "icon"
       }
      },
      {
       "#attr": {
        "href": "/api/page/static/css/main.css",
        "rel": "stylesheet"
       }
      }
     ],
     "meta": [
      {
       "#attr": {
        "charset": "utf-8"
       }
      },
      {
       "#attr": {
        "content": "fylr - manage your data",
        "name": "description"
       }
      }
     ],
     "script": [
      {
       "#text": "async function submitForm(form) {\n\t\t\t\tconst url = form.action + '\u0026check=true';\n\n\t\t\t\tconst formData = new FormData(form);\n\n\t\t\t\tconst formDataJson = Object.fromEntries(formData.entries());\n\t\t\t\tconst body = JSON.stringify(formDataJson);\n\n\t\t\t\tconst request = {\n\t\t\t\t\tmethod: form.method,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-type': 'application/json',\n\t\t\t\t\t},\n\t\t\t\t\tbody: body\n\t\t\t\t};\n\n\t\t\t\tconst data = await fetch(url, request).then(response =\u003e response.json()).catch(error =\u003e console.error(error));\n\n\t\t\t\tfor (let fieldName in data) {\n\t\t\t\t\tform.elements[fieldName]?.classList.toggle('has-error', data[fieldName].Invalid)\n\t\t\t\t\tconsole.debug(fieldName, data[fieldName]);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfunction onInputHandler(event) {\n\t\t\t\tconst form = event.currentTarget;\n\t\t\t\tsubmitForm(form);\n\t\t\t}"
      }
     ],
     "style": [
      {
       "#text": ":root {}\n\n\t\t\thtml {}"
      }
     ],
     "title": [
      {
       "#text": "fylr"
      }
     ]
    }
   ]
  }
 ]
}